<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
<%@ taglib prefix="c"
           uri="http://java.sun.com/jsp/jstl/core" %>
<%
    String path = request.getContextPath();
    String basePath = request.getScheme() + "://"
            + request.getServerName() + ":" + request.getServerPort()
            + path + "/";
%>
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        div {

        }
    </style>

</head>
<body>
<div id="heatmap">
    <img id="" src="<%=basePath%>img/s1.jpg">
</div>
</body>
<script src="<%=basePath%>js/lib/heatmap.js"></script>
<script type="text/javascript">
    // 创建一个heatmap实例对象
    // “h337” 是heatmap.js全局对象的名称.可以使用它来创建热点图实例
    // 这里直接指定热点图渲染的div了.heatmap支持自定义的样式方案,网页外包接活具体可看官网api
    var heatmapInstance = h337.create({
        container: document.querySelector('#heatmap'),
        radius: 50,
        opacity:0,
    });
    //构建一些随机数据点,网页切图价格这里替换成你的业务数据
    var points = [];
    var max = 0;
    var width = 1400;
    var height = 1000;
    var len = 650;
    point_x=[18,14,10,16,19,20,19,19,20,16,16,26,11,02,27,8,30,03,19,29,13,16,28,01,29,13,01,02,10,29,17,30,18,30,02,04,22,21,31,11,29,28,30,30,16,9,28,15,29,13,13,13,13,13,13,13,10,13,15,31,31,31,12,01,01,18,02,13,28,03,04,05,06,28,31,16,21,16,24,31,30,05,12,03,31,24,10,17,16,27,24,16,05,17,08,05,29,05,22,25,12,05,22,26,18,07,05,09,31,18,27,16,31,02,24,25,26,27,15,29,29,22,19,27,20,29,29,16,31,19,04,25,25,25,11,23,24,29,29,22,20,30,15,15,03,11,15,29,29,30,02,03,21,21,02,02,29,10,19,03,13,23,23,26,29,30,31,18,15,28,28,16,08,17,12,18,11,17,07,19,12,02,18,28,28,28,28,31,31,26,30,18,31,04,07,31,04,18,18,15,12,19,25,31,30,25,30,07,18,30,24,24,18,21,26,05,20,18,18,28,22,06,14,23,19,25,13,18,18,25,12,13,18,14,25,15,22,05,15,03,03,23,18,10,03,14,16,24,24,24,22,24,22,24,28,28,14,28,17,30,05,17,22,05,22,22,22,02,27,21,22,22,27,31,19,22,23,22,14,22,22,31,22,31,22,22,22,12,01,16,02,03,16,04,15,05,05,13,01,18,25,11,11,26,17,28,17,08,02,03,29,16,29,25,07,02,20,21,16,27,16,15,31,26,19,23,03,22,20,26,04,25,14,14,17,18,28,25,15,23,08,03,12,11,22,18,25,25,25,20,04,17,04,22,25,25,05,22,01,03,28,29,26,29,03,03,20,25,10,02,29,03,28,28,10,29,14,14,28,25,03,28,21,30,30,30,29,10,02,20,17,14,10,07,07,07,03,11,29,23,27,11,23,29,11,11,26,10,20,23,27,16,29,26,29,10,26,26,10,23,15,10,22,28,29,28,28,22,31,15,26,24,13,28,22,25,22,03,11,03,03,03,29,26,10,11,03,03,03,11,29,03,12,18,11,03,17,04,05,06,28,19,17,17,17,30,17,29,25,04,09,31,30,31,23,31,15,16,15,31,31,18,18,15,24,26,12,22,22,16,21,04,19,05,22,22,08,12,25,25,14,07,26,05,29,03,25,05,04,29,22,16,04,03,27,26,25,05,23,25,18,10,14,23,23,03,18,06,23,05,11,11,05,14,17,17,17,17,03,18,18,10,27,8,14,23,03,8,31,15,29,31,24,31,26,10,22,15,20,26,23,23,18,10,19,05,03,28,14,03,12,03,19,11,07,15,23,20,31,20,18,15,22,22,22,22,24,18,29,29,24,16,19,17,18,12,16,25,22,12,22,17,14,31,31,16,15,17,17,17,13,24,30,05,27,29,02,10,15,28,23,14,14,14,23,15,15,01,10,17,29,29,22,18,15,17,04,29,16,14,06,9,31,19,25,25,24,8,17,16]
    point_y=[1,27,19,6,1,1,1,25,1,24,24,2,10,13,4,15,9,15,24,6,13,21,6,1,1,30,17,17,22,4,18,24,18,24,2,20,5,22,4,10,6,5,5,5,15,24,4,31,6,14,14,14,14,14,14,14,18,14,15,4,4,4,19,1,1,28,1,26,25,1,2,2,3,23,4,21,21,13,24,25,19,26,7,20,23,8,22,8,7,16,2,9,26,8,14,26,6,22,6,30,30,24,8,8,7,27,24,22,23,30,9,24,7,12,7,7,7,6,16,7,6,11,17,5,21,4,4,9,24,16,26,3,3,3,22,31,31,7,7,23,31,24,21,30,21,15,30,7,7,19,6,20,23,23,6,6,2,3,22,20,23,2,6,4,7,4,7,31,31,5,5,9,14,11,1,12,17,12,30,13,21,13,26,5,5,5,5,7,5,8,26,24,23,24,22,23,24,30,12,31,20,13,1,5,24,24,5,22,26,9,3,31,21,22,4,19,22,21,8,5,5,21,27,31,25,30,23,30,30,1,23,24,30,2,30,16,9,20,21,15,15,31,10,21,15,22,7,31,31,31,8,31,8,31,6,6,23,5,9,19,26,8,9,27,8,8,8,24,8,6,9,9,8,24,1,4,1,4,24,4,4,10,4,10,4,4,4,25,1,16,1,2,2,3,10,4,5,15,21,18,27,22,6,24,31,5,8,14,10,15,1,25,4,1,16,13,25,30,17,4,16,14,5,8,15,7,13,5,13,8,11,1,1,27,26,9,1,1,19,1,13,13,11,10,4,26,1,1,1,13,25,9,24,8,5,5,27,4,11,15,5,7,4,10,21,15,1,1,21,13,7,13,6,5,22,7,2,2,11,6,13,6,10,10,10,10,1,22,13,25,9,3,21,16,16,16,13,22,7,31,23,22,31,7,22,22,4,19,4,31,6,2,6,8,8,22,2,1,24,31,15,23,23,10,1,5,6,9,12,30,4,31,8,3,8,30,31,21,22,13,21,21,7,4,6,24,21,21,21,22,7,21,17,28,20,2,26,2,2,3,23,5,26,24,26,24,15,23,3,25,16,25,19,25,8,4,31,30,25,21,5,2,12,31,7,8,1,14,15,16,6,25,1,25,4,15,26,1,19,1,24,23,3,21,7,3,17,20,22,7,28,7,25,21,11,8,1,14,15,5,1,21,23,6,6,15,10,22,7,24,5,20,25,2,8,8,8,8,13,9,9,16,9,14,2,9,15,20,7,30,1,22,4,7,8,6,8,31,22,4,31,31,24,21,16,27,15,6,2,15,11,15,16,12,22,30,5,31,7,31,30,31,4,6,8,6,5,10,7,1,5,31,1,8,16,6,16,30,9,12,8,17,13,4,4,16,14,21,21,21,21,5,4,26,3,7,17,6,14,5,31,2,2,24,28,25,25,21,6,24,6,6,4,26,30,8,17,13,28,27,14,26,5,22,1,1,31,14,24,6]
    //140  160
    while (len--) {
        var val = (point_x[len]%25)*(point_y[len]%28);
        max = Math.max(max,val)
        var point = {
            x: point_x[len]*38+300,
            y: point_y[len]*32+350,
            value: val
        };
        points.push(point);
    }
    var data = {
        max: max,
        data: points
    };
    57 //因为data是一组数据,web切图报价所以直接setData
    // heatmapInstance.container();
    heatmapInstance.setData(data); //数据绑定还可以使用
</script>
</html>